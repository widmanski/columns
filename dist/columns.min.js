!function(a){"use strict";a.zepto&&!a.fn.removeData&&console.log("Error: Zepto is loaded without the data module."),a.fn.columns=function(b){function c(b){b=b||{};var c=this,h={height:c.height(),width:c.width(),top:c.offset().top,win:f.height(),cols:4,columnHeights:[],columnTemplate:'<div class="column">{{ content }}</div>',autoWidth:!0},i=c.children(),j=i.length,k=0,l=[],m=0,n="";for(b.filter=b.filter||!1,a.extend(h,b),k=0;j>k;k++)l[m]=(l[m]||"")+i[k].outerHTML,m++,m===h.cols&&(m=0);for(k=0;k<h.cols;k++)n+=h.columnTemplate.replace("{{ content }}",l[k]);return c.html(n),h.columns=a(this).find(".column"),c.data("settings",h),f.on("scroll"+g,this,e).on("resize"+g,this,d).trigger("scroll").trigger("resize"),console.log(h),c}function d(b){var c=a(b.data[0]),d=c.data("settings"),e=0,g=0,h={left:"50%"};for(d.autoWidth&&(h.width=d.width/d.cols+"px"),e=0;e<d.cols;e++)h.marginLeft=Math.round(1*d.width*((-e-1)/d.cols+.5))+"px",d.columns.eq(e).css(h),d.columnHeights[e]=d.columns.eq(e).height(),g=Math.max(d.columnHeights[e],g);c.height(g),d.width=c.width(),d.height=c.height(),d.top=c.offset().top,d.win=f.height(),console.log(d),c.data("settings",d)}function e(b){console.log("on Scroll called");var c=a(b.data[0]),d=c.data("settings"),e=f.scrollTop(),g=0;if(e+d.win>d.top+d.height)return d.columns.removeClass("is-fixed"),void c.addClass("is-scrolled-past");for(c.removeClass("is-scrolled-past"),g=0;g<d.cols;g++)e+d.win-d.top>d.columnHeights[g]?d.columns.eq(g).addClass("is-fixed"):d.columns.eq(g).removeClass("is-fixed")}var f=(a(document),a("body"),a(window)),g=".columns",h={destroy:function(){a(this).removeData("settings"),f.off(g),console.log("destroy called")},update:function(b,c){var d=a(this),e=d.data("settings")||{};e[b]=c,d.data("settings",e)}};return"string"==typeof b&&b in h?(h[b].call(this,arguments.length>1?arguments.slice(1):arguments),!1):c.call(this,b)}}(window.jQuery||window.Zepto);